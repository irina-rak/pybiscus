root_dir: ${oc.env:PWD}
num_clients: '3'
server_compute_context:
  hardware:
    accelerator: gpu
    devices:
      - 0
  metrics_loggers:
    - name: wandb
      config:
        api_key_definition:
          env_var_name: WANDB_API_KEY
        params:
          project: "Prostate_Bladder_Rectum"
          group: "federated_${num_clients}_clients"
          name: "fedavg_${num_clients}_clients_INT_PAEC_URITOX_e10_flr50"
          job_type: "server"
          is_client: false
server_run:
  num_rounds: 50
  client_configs: []
  loggers:
    - name: rich
      config:
        empty_configuration: true
  reporting:
    add_timestamp_in_path: true
    save_on_train_end:
      filename: ${server_compute_context.metrics_loggers[0].config.params.name}.pt
server_strategy:
  strategy:
    name: fedavg
    config:
      epochs_per_round: 10
      min_fit_clients: ${num_clients}
      min_evaluate_clients: ${num_clients}
      min_available_clients: ${num_clients}
  decorators: []
data:
  name: pbr
  config:
    dir_train: None
    dir_val: None
    dir_test: ${root_dir}/datasets/test_INT_URITOX/
    augment: False
    cache_rate: '1.0'
    shape_img:
      - '96'
      - '96'
      - '96'
    batch_size: '1'
    num_workers: '4'
model:
  name: unet
  config:
    spatial_dims: '3'
    in_channels: '1'
    out_channels: '4'
    channels:
      - '16'
      - '32'
      - '64'
      - '128'
      - '256'
    strides:
      - '2'
      - '2'
      - '2'
      - '2'
    num_res_units: '2'
    norm: "BATCH"
    lr: '0.001'
flower_server:
  listen_address: '10.117.178.23:8084'
